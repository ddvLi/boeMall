{"remainingRequest":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\src\\views\\Buy.vue?vue&type=style&index=0&id=8023953c&scoped=true&lang=css","dependencies":[{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\src\\views\\Buy.vue","mtime":1567219842000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.app_Buy{\r\n    font-size: 16px;\r\n}\r\n.app_Buy>div{\r\n    width: 100%;\r\n    height:100%;\r\n    padding-top: 15px;\r\n    border-bottom: 2px solid #e9e7e8;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-flow:column wrap;\r\n}\r\n.app_Buy>div>div{\r\n    width: 90%;\r\n    /* margin: 0 auto;  */\r\n}\r\n.leaveWord{\r\n    height: 100%;\r\n}\r\n.leaveWord textarea{\r\n    display: block;\r\n    width: 90%;\r\n    height: 80%;\r\n    line-height:30px;\r\n    margin: 0 auto;\r\n    background-color: #e9e7e8;\r\n    border: none;\r\n    outline: none;\r\n    box-sizing: border-box;\r\n}\r\n.leaveWord div{\r\n      width: 90%;\r\n      height: 15%;\r\n        margin: 0 auto;\r\n        background-color: #e9e7e8;\r\n}\r\n.limitWord{\r\n    text-align: right;\r\n    font-size: 12px;\r\n}\r\n.content{\r\n    padding: 0 !important;\r\n}\r\n.active{\r\n    color: #f15a0c;\r\n}\r\n.pay-method{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n}\r\n.pay-method img{\r\n     height: 35px;\r\n    float: left;\r\n}\r\n.pay-method svg{\r\n     float: right;\r\n}\r\n",{"version":3,"sources":["Buy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Buy.vue","sourceRoot":"src\\views","sourcesContent":["<template>\r\n<div class=\"app_Buy\">\r\n<BuyCart></BuyCart>\r\n  <div style=\"height:150px;\">\r\n      <div class=\"leaveWord\">\r\n          <textarea name=\"leaveWord\" placeholder=\"买家留言\" maxlength=\"30\" @input=\"lwordInput\" v-model=\"lword\"/>\r\n          <div class=\"limitWord\" v-bind:class=\"{active: isActive}\">{{txtVal}}/30</div>\r\n      </div>\r\n  </div>\r\n    <BuyAddress @getAphone=\"getAuser\"></BuyAddress>\r\n  <BuyTotal @Cartdata=\"GetCartdata\"></BuyTotal>\r\n  <div class=\"content\" style=\"height:90px;border-bottom:none;\">\r\n     <div class=\"pay-method\" @click=\"chooseMethods\"> \r\n        <img src=\"../../public/images/weixin.jpg\">\r\n        <svg class=\"icon\" aria-hidden=\"true\" style=\"display:inline-block;width:30px;height:30px;\">\r\n        <use :xlink:href=\"'#icon-'+payMethod.firstImg\"></use>\r\n        </svg>        \r\n     </div>\r\n     <div class=\"pay-method\" style=\"display:block;\" @click=\"chooseMethods\"> \r\n        <img src=\"../../public/images/zhifubao.jpg\">\r\n        <svg class=\"icon\" aria-hidden=\"true\" style=\"display:inline-block;width:30px;height:30px;\">\r\n        <use :xlink:href=\"'#icon-'+payMethod.secondImg\"></use>\r\n        </svg>        \r\n     </div>\r\n  </div>\r\n   <div v-for=\"(item,i) of list\" :key=\"i\" style=\"display:none;\"></div>\r\n  <div class=\"content\" style=\"height:60px;justify-content: space-between;flex-flow:row wrap;bottom:0;border-top:2px solid #e9e7e8;z-index:999;background-color:#ffffff;\">\r\n      <span style=\"display:inl-block;color:#ff7100;\">&#12288;合计:&#12288;{{totalMoney}}</span>\r\n      <mt-button type=\"danger\" size=\"small\" style=\"background-color:#ff7100;width:100px;\" @click=\"complete(ordername,ordergcount,ordermoney,orderisPinkage)\">去付款</mt-button>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Myheader from \"../components/Myheader.vue\"\r\nimport BuyCart from \"./BuyCart.vue\"\r\nimport BuyTotal from \"./BuyTotal.vue\"\r\nimport BuyAddress from \"./BuyAddress.vue\"\r\nexport default {\r\n    data() {\r\n        return {\r\n            isActive: false,\r\n            txtVal:0,\r\n            lword:\"\",\r\n            list:[],\r\n            payMethod:{firstImg:\"select\",secondImg:\"notSelect-copy\"},\r\n            ordername:\"\",\r\n            ordergcount:0,\r\n            ordermoney:0,\r\n            orderisPinkage:0,\r\n            totalMoney:0,\r\n            auser:\"\"\r\n        }\r\n    },\r\n    methods:{\r\n        lwordInput(){\r\n             this.txtVal = this.lword.length;\r\n             if(this.txtVal==30){\r\n                    this.isActive = true;\r\n             }else{\r\n                    this.isActive = false;\r\n             }\r\n        },\r\n       getAuser(auser){\r\n           this.auser=auser;\r\n           console.log(auser);\r\n       },\r\n        GetCartdata(data){\r\n            this.data=data;\r\n        },\r\n        chooseMethods(){\r\n            var fileImg=this.payMethod.firstImg;\r\n            this.payMethod.firstImg= this.payMethod.secondImg;\r\n            this.payMethod.secondImg= fileImg;\r\n        },\r\n        loadCart(){\r\n           var url=\"cart\";\r\n           this.axios.get(url).then(res=>{\r\n               if(res.data.code==-1){\r\n                   this.$messagebox(\"消息\",\"请登录\").then(res=>{\r\n                       this.$router.push(\"/Login\");\r\n                       return;\r\n                   })\r\n               }else{\r\n                  var list=res.data.data;\r\n                   this.list=list;\r\n                   var ordername=\"\";\r\n                    this.list.map((item) => {ordername += item.pname+\",\"});\r\n                    this.ordername=ordername;\r\n                    var ordergcount=0;\r\n                    this.list.map((item) => {ordergcount += parseInt(item.gcount)});\r\n                     this.ordergcount=ordergcount;\r\n                    var ordermoney=0;\r\n                     this.list.map((item) => {ordermoney += parseInt(item.money)});\r\n                      this.ordermoney=ordermoney;\r\n                    var orderisPinkage=0;\r\n                     this.list.map((item) => {orderisPinkage += parseInt(item.isPinkage)});\r\n                      this.orderisPinkage=orderisPinkage;\r\n                      this.getTotalMoney();\r\n               }\r\n           })\r\n         },\r\n         complete(ordername,ordergcount,ordermoney,orderisPinkage){\r\n            var auser=this.auser;\r\n            var tmoney=this.totalMoney;\r\n            console.log(tmoney);\r\n            var url=\"addorder\";\r\n            var objs={auser:auser,gcount:ordergcount,pname:ordername,money:ordermoney,tmoney:tmoney};\r\n             console.log(objs);\r\n            this.axios.get(url,{params:objs}).then(res=>{\r\n            if(res.data.code==-1){\r\n                    this.$toast(\"请登录\");\r\n                    this.$router.push(\"/Login\");\r\n                    return;\r\n                    }else{this.$toast(\"结算成功\");\r\n                     this.$router.push(\"/MyOrder\");\r\n            }\r\n            })\r\n        },\r\n        getTotalMoney(){\r\n            this.list.map((item) => {this.totalMoney += item.pprice;});\r\n             this.list.map((item) => {\r\n                if(item.isPinkage==0){\r\n                    this.totalMoney+=6; \r\n                }\r\n        })\r\n        }\r\n        },\r\n         created() {\r\n        this.loadCart();\r\n         },\r\n        components:{\r\n        \"BuyCart\":BuyCart,\r\n        \"BuyTotal\":BuyTotal,\r\n        \"BuyAddress\":BuyAddress,\r\n        \"myheader\":Myheader\r\n    },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.app_Buy{\r\n    font-size: 16px;\r\n}\r\n.app_Buy>div{\r\n    width: 100%;\r\n    height:100%;\r\n    padding-top: 15px;\r\n    border-bottom: 2px solid #e9e7e8;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-flow:column wrap;\r\n}\r\n.app_Buy>div>div{\r\n    width: 90%;\r\n    /* margin: 0 auto;  */\r\n}\r\n.leaveWord{\r\n    height: 100%;\r\n}\r\n.leaveWord textarea{\r\n    display: block;\r\n    width: 90%;\r\n    height: 80%;\r\n    line-height:30px;\r\n    margin: 0 auto;\r\n    background-color: #e9e7e8;\r\n    border: none;\r\n    outline: none;\r\n    box-sizing: border-box;\r\n}\r\n.leaveWord div{\r\n      width: 90%;\r\n      height: 15%;\r\n        margin: 0 auto;\r\n        background-color: #e9e7e8;\r\n}\r\n.limitWord{\r\n    text-align: right;\r\n    font-size: 12px;\r\n}\r\n.content{\r\n    padding: 0 !important;\r\n}\r\n.active{\r\n    color: #f15a0c;\r\n}\r\n.pay-method{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n}\r\n.pay-method img{\r\n     height: 35px;\r\n    float: left;\r\n}\r\n.pay-method svg{\r\n     float: right;\r\n}\r\n</style>"]}]}