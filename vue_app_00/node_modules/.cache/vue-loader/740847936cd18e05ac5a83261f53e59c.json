{"remainingRequest":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\src\\views\\Car.vue?vue&type=style&index=0&id=5b5e40a0&scoped=true&lang=css","dependencies":[{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\src\\views\\Car.vue","mtime":1567224158000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.span1{\r\n  width: 20px;\r\n  display: inline-block;\r\n  text-align: center;\r\n  font-weight: bold;\r\n}\r\n.carshow .kong{\r\n  height:120px !important;\r\n   transition: .6s ease-out ;\r\n}\r\n.car-div{\r\ntext-align: center;\r\nline-height: 42px;\r\nbackground: #fff;\r\nheight: 42px;\r\nborder-bottom:1px solid rgba(221, 221, 221, 0.5);\r\nposition: fixed;\r\nwidth: 100%;\r\nz-index: 9999;\r\nheight: 50px;\r\ntop:41px;\r\n\r\n}\r\n.car-div>div>span{\r\nfloat: right;\r\npadding-right: 10px;\r\n}\r\n/* */\r\n.car-check{\r\npadding: 5px 0px;\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\ntext-align: left;\r\nwidth: 100%;\r\n}\r\n.s-check{\r\ndisplay: inline-block;\r\nborder-radius:50%;\r\nwidth: 20px;\r\nheight:20px; \r\nbackground: #9e9e9e;\r\nline-height: 13px;\r\nbox-sizing: border-box;\r\npadding: 4px 3px;\r\nmargin-right: 6px;\r\nvertical-align: middle;\r\nmargin-left: 10px;\r\n}\r\n.car-check .scheck{\r\n  background: #f00;\r\n}\r\n.scheck1{\r\n  background:#f00 !important\r\n}\r\n\r\n .s-check img{\r\nwidth:100%;\r\nheight:100%;\r\n}\r\n.car-check .car-btn .check-btn{\r\nbackground:#d20e10;\r\ncolor: #fff;\r\nmargin-right: 25px;\r\n}\r\n/* divbu */\r\n.car-tabbar{\r\ndisplay: flex;\r\njustify-content:space-between;\r\nalign-items:center;\r\nfont-size: 14px;\r\nwidth: 100%;\r\n}\r\n.car-tabbar>div .tab-span{\r\nmargin-right: 10px;\r\n}\r\n.tab-span>span{\r\ncolor: #ff7100;\r\n}\r\n.car-tabbar .tab-btn {\r\nbackground: #ff7100;\r\ncolor: #fff;\r\nwidth: 80px;\r\n\r\n}\r\n/* 购物列表 */\r\n.car-ol{\r\nbackground: #fff;\r\nborder-bottom:2px solid #ddd; \r\nheight: 100px;\r\ndisplay: flex;\r\njustify-content:space-between;\r\nalign-items: center;\r\nflex-flow:column wrap;\r\n}\r\n.popup{\r\n  position: fixed;\r\n  width: 100%;\r\n  margin-top:50px;\r\n  transition: .6s ease-out;\r\n  background-color: #fff;\r\n  top: -60px;\r\n  right: auto;\r\n  bottom: auto;\r\n  left: 50%;\r\n  transform: translate3d(-50%, 0, 0);\r\n}\r\n.carshow .actice{\r\n \r\n  position: fixed;\r\n  width: 100%;\r\n  margin-top:40px;\r\n  transition: .6s ease-out ;\r\n  background-color: #fff  ;\r\n  top: 60px ;\r\n  right: auto ;\r\n  bottom: auto ;\r\n  left: 50%  ;\r\n  transform: translate3d(-50%, 0, 0) ;\r\n}\r\n\r\n\r\n.car-ol .car-oll{\r\ndisplay: flex;\r\njustify-content:left;\r\npadding: 0px 9px 10px 0;\r\nheight: 60px;\r\nmargin-top: 10px;\r\n}\r\n.car-ol .car-oll .s-check1{\r\ndisplay: initial-block;\r\nmargin-top:25px;\r\n}\r\n.car-ol .car-oll .car-title{\r\n  font-size: 15px;\r\n  color: #333;\r\n\r\n  }\r\n.car-ol .car-oll .car-price{\r\n  \r\n  color: #ff7223;\r\n    font-size: 20px;\r\n    margin-top: 7px;\r\n    }\r\n\r\n.car-ol .ol-img{\r\n  display: inline-block;\r\n  width: 80px;\r\n  height: 80px;\r\n  margin: 0px 10px 10px 10px;\r\n  ;\r\n \r\n}\r\n.car-ol .ol-img img{\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n/* btn */\r\n.car-ol .car-btn{\r\n  margin-top: 20px;\r\n  margin-right: 10px;\r\n  \r\n}\r\n.car-ol .car-btn>button{\r\n  background: #DC221D;\r\n  height: 30px;\r\n  width: 30px;\r\n  border-radius: 3px;\r\n  text-align: center;\r\n  line-height: 2px;\r\n  color:#fff;\r\n  font-size:25px;\r\n \r\n}\r\n",{"version":3,"sources":["Car.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Car.vue","sourceRoot":"src\\views","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"carshow\">\r\n      <!-- 购物车头部 -->\r\n      <div class=\"car-div\">\r\n        <div>购物车列表 <span @click=\"edit\" v-show=\"caredit\">编辑</span><span v-show=\"!caredit\" @click=\"edit\">完成</span></div>\r\n      </div>\r\n      <!-- 删除div -->\r\n      <div class=\"popup\" :class=\"{actice:isActive}\">\r\n        <div class=\"car-check\">\r\n          <div>\r\n             <span class=\"s-check shoppingall\"  @click=\"all\"><img src=\"../../public/images/checked.png\" alt=\"\"></span>全选<!-- :class=\"{scheck:ischeck}\" -->\r\n          </div>\r\n          <div class=\"car-btn\"><mt-button class=\"check-btn\" @click=\"DeleteAll\">删除商品</mt-button></div>\r\n        </div>\r\n      </div> \r\n      <!-- 空div上 -->\r\n      <div style=\"height:48px; transition:.6s ease-out;\" :class=\"{kong:isKong}\"></div>\r\n      <!-- 购物列表 -->\r\n      <div class=\"car-ol\" v-for=\"(item,i) of list\" :key=\"i\">\r\n        <div class=\"car-oll\">\r\n          <span class=\"s-check s-check1 shopping\" @click=\"delthis\" :data-id=\"item.gid\"><!-- :class=\"{scheck1}\" -->\r\n            <img src=\"../../public/images/checked.png\" alt=\"\" :data-id=\"item.gid\">\r\n          </span>\r\n          <span class=\"ol-img\">\r\n            <img :src=\"'http://127.0.0.1:3000/'+item.ppic\">\r\n          </span>\r\n          <div>\r\n            <div class=\"car-title\">{{item.pname}}</div>\r\n            <p class=\"car-price\">价格￥{{item.pprice}}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"car-btn\" style=\"height:80px;line-height:80px;\">\r\n          <button @click=\"numUp(-1,item.gid)\">-</button>\r\n          <span class=\"span1\">{{item.gcount}}</span>\r\n          <button  @click=\"numUp(+1,item.gid)\">+</button>    <!--   -->\r\n        </div>\r\n      </div>\r\n      <!--  -->\r\n      <mt-tabbar fixed class=\"car-tabbar\" v-show=\"show\">\r\n        <div>\r\n          <span class=\"s-check s-check1 shoppingall\" @click=\"all\">\r\n            <img src=\"../../public/images/checked.png\" alt=\"\">\r\n          </span>全选\r\n        </div>\r\n        <div>\r\n          <span class=\"tab-span\">合计：￥\r\n            <span>{{TotalPprice}}</span>\r\n          </span>\r\n          <mt-button class=\"tab-btn\" @click=\"BuyBuyBuy\">结算</mt-button>\r\n        </div>\r\n      </mt-tabbar>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Myheader from \"../components/Myheader.vue\"\r\nexport default {\r\n  data(){\r\n    return{\r\n      total:\"￥13\",\r\n      caredit:true,\r\n      popupVisible:false,\r\n      isActive:false,\r\n      isKong:false,\r\n      show:true,\r\n      ischeck:false,\r\n      list:[],\r\n      TotalPprice:0,\r\n      span_all:{},\r\n      shop:[],\r\n      //scheck1:\"\",\r\n    }\r\n  },\r\n  methods:{\r\n    edit(){\r\n    // this.popupVisible=!this.popupVisible\r\n    this.caredit=!this.caredit\r\n    this.isActive=!this.isActive\r\n    this.isKong=!this.isKong\r\n    this.show=!this.show\r\n    },\r\n    BuyBuyBuy(){\r\n        this.$router.push({\r\n                path:'Buy'\r\n                })\r\n    },\r\n    loadCart(){\r\n              var url=\"cart\";\r\n              this.axios.get(url).then(res=>{\r\n                  if(res.data.code==-1){\r\n                      this.$messagebox(\"消息\",\"请登录\").then(res=>{\r\n                          this.$router.push(\"/Login\");\r\n                          return;\r\n                      })\r\n                  }else{\r\n                    var list=res.data.data;\r\n                    this.list=list;\r\n                    /* 计算商品的总价格 */\r\n                    for (var item of list){\r\n                      this.TotalPprice+=(item.gcount*item.pprice)\r\n                    }\r\n                  }\r\n              })\r\n            },\r\n            numUp(i,gid){\r\n              var i=i;\r\n              var gid=gid\r\n              var url=\"add\"\r\n              var obj={i,gid}\r\n              this.axios.get(url,{params:obj}).then(res=>{\r\n                 if (res.data.code>0){\r\n                   this.TotalPprice=0\r\n                   this.loadCart();\r\n                 }\r\n              })\r\n            },\r\n          all(){       //点击的全选按钮\r\n            var span_all=document.getElementsByClassName(\"shoppingall\")\r\n            var span_=document.getElementsByClassName(\"shopping\")\r\n            for (var span of span_all){\r\n              span.onclick=function (){\r\n                var span=this\r\n                if (span.classList.contains(\"scheck1\")){\r\n                  span.classList.remove(\"scheck1\");\r\n                  for (var span_1 of span_){\r\n                    span_1.classList.remove(\"scheck1\")\r\n                  }\r\n                }else{\r\n                  span.classList.add(\"scheck1\")\r\n                  for (var span_1 of span_){\r\n                    span_1.classList.add(\"scheck1\")\r\n                  }\r\n                }\r\n              }\r\n            }   //循环控制点击全选按钮控制单选按钮\r\n          },\r\n          delthis(){   //点击单个的按钮\r\n            var i=0\r\n            var span_=document.getElementsByClassName(\"shopping\")\r\n            this.shop=span_\r\n            var span_all=document.getElementsByClassName(\"shoppingall\")\r\n            //var id=e.target.dataset.id   //获取次时的id\r\n\r\n            for (var span of span_){\r\n              span.onclick=function (){\r\n                var span=this\r\n                if (span.classList.contains(\"scheck1\")){\r\n                  span.classList.remove(\"scheck1\");\r\n                    for (var span1 of span_all){\r\n                      span1.classList.remove(\"scheck1\");\r\n                    }\r\n                }else{\r\n                  span.classList.add(\"scheck1\")\r\n                }\r\n                for (var span of span_){\r\n                    if (span.classList.contains(\"scheck1\")==false){\r\n                  i++\r\n                }\r\n              }\r\n              if (i==0){\r\n                  for (var span1 of span_all){\r\n                      span1.classList.add(\"scheck1\");\r\n                    }\r\n                }\r\n              }\r\n            }\r\n          },\r\n          DeleteAll(){\r\n            var aa=this.shop\r\n            //创建变量保存多个商品的id值\r\n            var str=\"\"\r\n            //创建循环遍历span总有变红元素的id\r\n            for (var span of aa){\r\n              if (span.classList.contains(\"scheck1\")){\r\n                // 获取data中的id值，并且赋值给str\r\n                str+=span.getAttribute(\"data-id\")+\",\"\r\n              }\r\n            }\r\n\r\n            if (str.length==0){\r\n              this.$messagebox(\"请选择需要删除的商品\")\r\n\t\t\t\t      return;\r\n            }\r\n\r\n            this.$messagebox.confirm(\"是否删除指定商品\").then(res=>{\r\n                var url=\"delAll\";\r\n                str=str.slice(0,-1)\r\n                console.log(str)\r\n\t\t\t          var ids={ids:str}\r\n\r\n                this.axios.get(url,{params:ids}).then(res=>{\r\n                    this.loadCart();\r\n                    this.$toast(\"删除成功\");\r\n                })\r\n              //   var obj={};\r\n              //   this.axios.get(url,{params:obj}).then(res=>{\r\n              //      if(res.data.code>0){\r\n              //          this.$toast(\"删除成功\");\r\n              //           this.$router.push({\r\n              //           path:'Home'\r\n              //   })\r\n              //      }\r\n              //  })\r\n            }).catch(err=>{\r\n                 console.log(err)\r\n            })\r\n          }\r\n// ss(){\r\n// this.check=!this.check;\r\n// // if(ckeck==true){\r\n// // show==false;\r\n// // }\r\n// }\r\n},\r\nmounted(){\r\n\r\n},\r\ncreated() {\r\n        this.shop=document.getElementsByClassName(\"shopping\")\r\n        this.loadCart();\r\n    },\r\n  // computed: {\r\n  //   TotalPprice(){\r\n  //       var total = 0;\r\n  //       this.list.map((item) => {total += item.money});\r\n  //       return total;\r\n  //   }\r\n  // },\r\n  components:{\r\n    \"myheader\":Myheader\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.span1{\r\n  width: 20px;\r\n  display: inline-block;\r\n  text-align: center;\r\n  font-weight: bold;\r\n}\r\n.carshow .kong{\r\n  height:120px !important;\r\n   transition: .6s ease-out ;\r\n}\r\n.car-div{\r\ntext-align: center;\r\nline-height: 42px;\r\nbackground: #fff;\r\nheight: 42px;\r\nborder-bottom:1px solid rgba(221, 221, 221, 0.5);\r\nposition: fixed;\r\nwidth: 100%;\r\nz-index: 9999;\r\nheight: 50px;\r\ntop:41px;\r\n\r\n}\r\n.car-div>div>span{\r\nfloat: right;\r\npadding-right: 10px;\r\n}\r\n/* */\r\n.car-check{\r\npadding: 5px 0px;\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\ntext-align: left;\r\nwidth: 100%;\r\n}\r\n.s-check{\r\ndisplay: inline-block;\r\nborder-radius:50%;\r\nwidth: 20px;\r\nheight:20px; \r\nbackground: #9e9e9e;\r\nline-height: 13px;\r\nbox-sizing: border-box;\r\npadding: 4px 3px;\r\nmargin-right: 6px;\r\nvertical-align: middle;\r\nmargin-left: 10px;\r\n}\r\n.car-check .scheck{\r\n  background: #f00;\r\n}\r\n.scheck1{\r\n  background:#f00 !important\r\n}\r\n\r\n .s-check img{\r\nwidth:100%;\r\nheight:100%;\r\n}\r\n.car-check .car-btn .check-btn{\r\nbackground:#d20e10;\r\ncolor: #fff;\r\nmargin-right: 25px;\r\n}\r\n/* divbu */\r\n.car-tabbar{\r\ndisplay: flex;\r\njustify-content:space-between;\r\nalign-items:center;\r\nfont-size: 14px;\r\nwidth: 100%;\r\n}\r\n.car-tabbar>div .tab-span{\r\nmargin-right: 10px;\r\n}\r\n.tab-span>span{\r\ncolor: #ff7100;\r\n}\r\n.car-tabbar .tab-btn {\r\nbackground: #ff7100;\r\ncolor: #fff;\r\nwidth: 80px;\r\n\r\n}\r\n/* 购物列表 */\r\n.car-ol{\r\nbackground: #fff;\r\nborder-bottom:2px solid #ddd; \r\nheight: 100px;\r\ndisplay: flex;\r\njustify-content:space-between;\r\nalign-items: center;\r\nflex-flow:column wrap;\r\n}\r\n.popup{\r\n  position: fixed;\r\n  width: 100%;\r\n  margin-top:50px;\r\n  transition: .6s ease-out;\r\n  background-color: #fff;\r\n  top: -60px;\r\n  right: auto;\r\n  bottom: auto;\r\n  left: 50%;\r\n  transform: translate3d(-50%, 0, 0);\r\n}\r\n.carshow .actice{\r\n \r\n  position: fixed;\r\n  width: 100%;\r\n  margin-top:40px;\r\n  transition: .6s ease-out ;\r\n  background-color: #fff  ;\r\n  top: 60px ;\r\n  right: auto ;\r\n  bottom: auto ;\r\n  left: 50%  ;\r\n  transform: translate3d(-50%, 0, 0) ;\r\n}\r\n\r\n\r\n.car-ol .car-oll{\r\ndisplay: flex;\r\njustify-content:left;\r\npadding: 0px 9px 10px 0;\r\nheight: 60px;\r\nmargin-top: 10px;\r\n}\r\n.car-ol .car-oll .s-check1{\r\ndisplay: initial-block;\r\nmargin-top:25px;\r\n}\r\n.car-ol .car-oll .car-title{\r\n  font-size: 15px;\r\n  color: #333;\r\n\r\n  }\r\n.car-ol .car-oll .car-price{\r\n  \r\n  color: #ff7223;\r\n    font-size: 20px;\r\n    margin-top: 7px;\r\n    }\r\n\r\n.car-ol .ol-img{\r\n  display: inline-block;\r\n  width: 80px;\r\n  height: 80px;\r\n  margin: 0px 10px 10px 10px;\r\n  ;\r\n \r\n}\r\n.car-ol .ol-img img{\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n/* btn */\r\n.car-ol .car-btn{\r\n  margin-top: 20px;\r\n  margin-right: 10px;\r\n  \r\n}\r\n.car-ol .car-btn>button{\r\n  background: #DC221D;\r\n  height: 30px;\r\n  width: 30px;\r\n  border-radius: 3px;\r\n  text-align: center;\r\n  line-height: 2px;\r\n  color:#fff;\r\n  font-size:25px;\r\n \r\n}\r\n</style>"]}]}