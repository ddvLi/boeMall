{"remainingRequest":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\src\\views\\MyOrder.vue?vue&type=style&index=0&id=9bdfe844&scoped=true&lang=css","dependencies":[{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\src\\views\\MyOrder.vue","mtime":1567219578000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#myOrder .pjBtn{\n  margin: 15px;\n  padding: 10px 50px;\n  border-radius: 5px;\n  background: #2BA246;\n  color: #fff;\n  border:none;\n  outline: none;\n}\n#myOrder .bg{\n  width: 100%;\n  height: 150%;\n  background: rgba(0,0,0,.8);\n  position: absolute;\n  top:0;\n  z-index:999;\n}\n#myOrder .xs{\n  display:inline-block;\n}\n#myOrder .yc{\n  display:none;\n}\n#myOrder .evaStar{\n  background: #fff;\n  position: absolute;\n  height: 130px;\n  width: 90%;\n  margin:0;\n  top: 20%;\n  left: 18px;\n  text-align:center;\n  border-radius: 10px;\n  }\n#myOrder .star{\n  height: 40px;\n  font-size: 30;\n  padding: 0;\n  margin: 20px 0 0\n\n  }\n#myOrder .star-item{\n  display: inline-block;\n  background-repeat: no-repeat;\n  width: .6rem;\n  height: 30px;\n  margin-left: .27rem;\n  background-size: 100%;\n}\n#myOrder .star-item.on{\n  width: 30px;\n  background-image: url(../assets/on.png);\n}\n#myOrder .star-item.half{\n  width: 30px;\n  background-image: url(../assets/half.png);\n}\n#myOrder .star-item.off{\n  width: 30px;\n  background-image: url(../assets/off.png);\n}\n#myOrder .ztm{\n  color:#3091F2;\n  position: absolute;\n  right:30px;\n  top:50%;\n}\n#myOrder img{\n  width:80px;\n  height: 80px;\n  float:left;\n}\n#myOrder a{\n    text-decoration: none;\n  }\n#myOrder ul{\n    list-style-type: none;\n  }\n*{\n  box-sizing: border-box;\n}\n#myOrder .ddzt{\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  background: #fff;\n  height: 40px;\n  display: flex;\n}\n#myOrder .ddzt>li{\n  height: 39px;\n  width: 30%;\n  text-align: center;\n  line-height: 43px;\n}\n.active{\n  border-bottom: 3px solid #bbb;\n}\n#myOrder .order{\n  width: 95%;\n  height: 150px;\n  border:2px solid #eee;\n  background: #fff;\n  padding: 10px;\n  margin:10px auto;\n  border-radius: 5px;\n  position: relative;\n}\n#myOrder .lxr{\n  float: right;\n  margin-right: 10px;\n}\n#myOrder .order>p{\n  width: 70%;\n  margin: 2px;\n  float: right;\n  color:#333;\n  font-size: 12px;\n  font-family: \"微软\";\n}\n\n#myOrder .pj,#myOrder .zlyd,#myOrder .qr{\n  width: 90px;\n  height: 30px;\n  border-radius: 5px;\n  text-align: center;\n  line-height: 30px;\n  float: right;\n}\n#myOrder .qr{\n  background: #fff;\n  margin: 15px 4px 0 0;\n  border:1px solid #ccc;\n  color:#555;\n  font-size: 13px;\n}\n#myOrder .pj{\n  color:#fff;\n  background: #6EC884;\n  margin: 27px 4px 0 0;\n  font-size: 13px;\n}\n#myOrder .zlyd{\n  color:#fff;\n  background: #FF4401;\n  margin: 27px 4px 0 0;\n  font-size: 13px;\n}\n",{"version":3,"sources":["MyOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyOrder.vue","sourceRoot":"src\\views","sourcesContent":["<template>\r\n  <div id=\"myOrder\">\r\n    <ul class=\"ddzt\">\r\n      <li :class=\"l1\" @click=\"getAll\">全部</li>\r\n      <li :class=\"l2\" @click=\"getDsh\">待收货</li>\r\n      <li :class=\"l3\" @click=\"getDpj\">待评价({{num}})</li>\r\n      <li :class=\"l4\" @click=\"getTk\">退款</li>\r\n      <li :class=\"l5\" @click=\"getOver\">已完成</li>\r\n    </ul>\r\n    <div v-for=\"(item,i) of list\" :key=\"i\">\r\n      <div class=\"order\">\r\n        <img src=\"../../public/images/wel002.jpg\" alt=\"\">\r\n        <p>订单号：2019831{{item.oid}}\r\n          <span class=\"lxr\">收件人:{{item.auser}}</span>\r\n        </p>\r\n        <span class=\"ztm\">{{item.tosid==1?\"待收货\":(item.tosid==2?\"待评价\":(item.tosid==3?\"退货\":\"已完成\"))}}</span>\r\n        <p>商品名称:{{item.oname}}</p>\r\n        <p>数量：{{item.gcount}}</p>\r\n        <p>总价：￥{{item.tmoney}}</p>\r\n        <div class=\"pj\" @click=\"pjFun(item.oid,item.tosid)\">评价</div>\r\n        <div class=\"zlyd\" @click=\"zlydFun\">再来一单</div>\r\n        <div class=\"qr\" @click=\"qrFun(item.oid,item.tosid)\">确认收货</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"bg\" :class=\"bg_dp\">\r\n      <div class=\"evaStar\">\r\n        <ul class=\"star\">\r\n          <li v-for=\"(itemClass,index) in itemClasses\" :class=\"itemClass\" class=\"star-item\" @click=\"stars(index)\" track-by=\"index\"></li><!--性能优化 track-by 数据不改变时不会重新渲染-->\r\n        </ul>\r\n       <button class=\"pjBtn\" @click=\"pjBtnFun\">匿名提交</button>\r\n      </div>\r\n    </div> \r\n  </div>  \r\n</template>\r\n \r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n     oid:\"1\",\r\n     auser:\"\",\r\n     oname:\"\",\r\n     gcount:\"\",\r\n     tmoney:\"\",\r\n     num:\"\",\r\n     uid:\"\",\r\n     list:[],\r\n     text:\"\",\r\n     tosid:\"\",\r\n     l1:\"\",\r\n     l2:\"\",\r\n     l3:\"\",\r\n     l4:\"\",\r\n     l5:\"\",\r\n     score:4,\r\n     t:\"\",\r\n     time:3,\r\n     bg_dp:\"yc\"\r\n    };\r\n  },\r\n  computed:{ //计算属性\r\n    itemClasses(){\r\n    var result = []; // 返回的是一个数组,用来遍历输出星星\r\n    var score = Math.floor(this.score * 2 ) / 2; // 计算所有星星的数量\r\n    var hasDecimal = score % 1 !== 0; // 非整数星星判断\r\n    var integer = Math.floor(score); // 整数星星判断\r\n    for(let i=0;i<integer;i++){ // 整数星星使用on\r\n      result.push(\"on\"); // 一个整数星星就push一个CLS_ON到数组\r\n    }\r\n    if(hasDecimal){ // 非整数星星使用half\r\n      result.push(\"half\"); // 类似\r\n    } \r\n    while(result.length < 5){// 余下的用无星星补全,使用off\r\n      result.push(\"off\");\r\n    }\r\n    return result;\r\n    }\r\n  },\r\n  methods:{\r\n    pjBtnFun(score,oid){\r\n      var score=this.score;\r\n      if(score<=3){\r\n        this.$toast(\"感谢您的惠顾!因为有您的支持，我们才有今天，感谢您的每一个评价，小店都会努力让您满意!\");\r\n        if(this.t==\"\"){\r\n          this.t=setInterval(()=>{\r\n            this.time=this.time-1;\r\n            if(this.time==0){\r\n              clearInterval(this.t);\r\n              this.$router.push(\"/Opention\");\r\n              this.bg_dp=\"yc\";\r\n            }\r\n          },1000);\r\n        }\r\n        var url=\"tjpl\";\r\n        var oid=this.oid\r\n        console.log(oid);\r\n        var obj={oid:oid}\r\n        this.axios.get(url,{params:obj}).then(res=>{\r\n          if(res.data.code==1){\r\n            this.getDpj();\r\n          }else{\r\n            this.$toast(\"评价失败\");\r\n          }\r\n        });\r\n      }else if(score==4){\r\n        this.$toast(\"亲爱的朋友，感谢您一如既往的支持!您的满意是我们的最高追求\")\r\n        this.bg_dp=\"yc\";\r\n        var url=\"tjpl\";\r\n        var oid=this.oid\r\n        var obj={oid:oid}\r\n        this.axios.get(url,{params:obj}).then(res=>{\r\n          if(res.data.code==1){\r\n            this.getDpj();\r\n          }else{\r\n            this.$toast(\"评价失败\");\r\n          }\r\n        });\r\n      }else{\r\n        this.$toast(\"欢迎对我们不断的进行口碑传播\")\r\n        this.bg_dp=\"yc\";\r\n        var url=\"tjpl\";\r\n        var oid=this.oid\r\n        var obj={oid:oid}\r\n        this.axios.get(url,{params:obj}).then(res=>{\r\n          if(res.data.code==1){\r\n            this.getDpj();\r\n          }else{\r\n            this.$toast(\"评价失败\");\r\n          }\r\n        });\r\n      }\r\n    },\r\n    stars:function(index){\r\n      this.score = index + 1\r\n    },\r\n    pjFun(oid,tosid){\r\n      if(tosid==2){\r\n       this.bg_dp=\"xs\";\r\n       this.oid=oid;\r\n      }    \r\n    },\r\n    zlydFun(){\r\n      this.$router.push(\"/Home\");\r\n    },\r\n    qrFun(oid,tosid){\r\n      if(tosid==1){\r\n        this.$messagebox.confirm(\"确认收货？\")\r\n        .then(action=>{\r\n          var obj={oid:oid};\r\n          this.axios.get(\"tjqr\",{params:obj}).then(res=>{\r\n            if(res.data.code==1){\r\n              this.getDsh();\r\n            }else{\r\n              this.$toast(\"确认失败\");\r\n            }\r\n          })\r\n        })\r\n        .catch(err=>{\r\n        this.$toast(\"取消成功\")\r\n        })\r\n      }\r\n    },\r\n  getAll(){\r\n    this.l1=\"active\";\r\n    this.l2=\"\";\r\n    this.l3=\"\";\r\n    this.l4=\"\";\r\n    this.l5=\"\";\r\n    this.onload();\r\n  },\r\n    getDsh(){\r\n      var url=\"Dshorder\";\r\n      var obj={uid:this.uid};\r\n      this.l1=\"\";\r\n      this.l2=\"active\";\r\n      this.l3=\"\";\r\n      this.l4=\"\";\r\n      this.l5=\"\";\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.num=res.data.num;\r\n        this.list=res.data.obj;  \r\n        console.log(this.list);  \r\n      })\r\n    },\r\n    getDpj(){\r\n      this.l1=\"\";\r\n      this.l2=\"\";\r\n      this.l3=\"active\";\r\n      this.l4=\"\";\r\n      this.l5=\"\";\r\n      var url=\"Dpjorder\";\r\n      var obj={uid:this.uid};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.num=res.data.num;\r\n        this.list=res.data.obj; \r\n      })\r\n    },\r\n    onload(){\r\n      this.l1=\"\";\r\n      this.l2=\"\";\r\n      this.l3=\"active\";\r\n      this.l4=\"\";\r\n      this.l5=\"\";\r\n      var url=\"Dpjorder\";\r\n      var obj={uid:this.uid};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.num=res.data.num;\r\n        this.list=res.data.obj;\r\n     })\r\n    },\r\n\r\n    getTk(){\r\n      this.l1=\"\";\r\n      this.l2=\"\";\r\n      this.l3=\"\";\r\n      this.l4=\"active\";\r\n      this.l5=\"\";\r\n      var url=\"Thorder\";\r\n      var obj={uid:this.uid};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.num=res.data.num;\r\n        this.list=res.data.obj;\r\n       \r\n      })\r\n    },\r\n    getOver(){\r\n      this.l1=\"\";\r\n      this.l2=\"\";\r\n      this.l3=\"\";\r\n      this.l4=\"\";\r\n      this.l5=\"active\";\r\n      var url=\"Over\";\r\n      var obj={uid:this.uid};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.num=res.data.num;\r\n        this.list=res.data.obj;\r\n       \r\n    \r\n      })\r\n    },\r\n  \r\n    onload(){\r\n      this.l1=\"active\";\r\n      this.l2=\"\";\r\n      this.l3=\"\";\r\n      this.l4=\"\";\r\n      this.l5=\"\";\r\n      var url=\"Allorder\";\r\n      var obj={uid:this.uid};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.num=res.data.num;\r\n        this.list=res.data.obj;\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    if(sessionStorage.getItem(\"uid\")==\"null\"){ \r\n      this.$router.push(\"/Login\");\r\n    }else{\r\n      this.uid=sessionStorage.getItem(\"uid\");\r\n    }\r\n    this.onload();\r\n  },\r\n  components:{\r\n    \r\n  }\r\n  \r\n\r\n  \r\n};\r\n</script>\r\n\r\n<!-- 样式 -->\r\n<style scoped>\r\n  #myOrder .pjBtn{\r\n    margin: 15px;\r\n    padding: 10px 50px;\r\n    border-radius: 5px;\r\n    background: #2BA246;\r\n    color: #fff;\r\n    border:none;\r\n    outline: none;\r\n  }\r\n  #myOrder .bg{\r\n    width: 100%;\r\n    height: 150%;\r\n    background: rgba(0,0,0,.8);\r\n    position: absolute;\r\n    top:0;\r\n    z-index:999;\r\n  }\r\n  #myOrder .xs{\r\n    display:inline-block;\r\n  }\r\n  #myOrder .yc{\r\n    display:none;\r\n  }\r\n  #myOrder .evaStar{\r\n    background: #fff;\r\n    position: absolute;\r\n    height: 130px;\r\n    width: 90%;\r\n    margin:0;\r\n    top: 20%;\r\n    left: 18px;\r\n    text-align:center;\r\n    border-radius: 10px;\r\n    }\r\n  #myOrder .star{\r\n    height: 40px;\r\n    font-size: 30;\r\n    padding: 0;\r\n    margin: 20px 0 0\r\n\r\n    }\r\n  #myOrder .star-item{\r\n    display: inline-block;\r\n    background-repeat: no-repeat;\r\n    width: .6rem;\r\n    height: 30px;\r\n    margin-left: .27rem;\r\n    background-size: 100%;\r\n  }\r\n  #myOrder .star-item.on{\r\n    width: 30px;\r\n    background-image: url(../assets/on.png);\r\n  }\r\n  #myOrder .star-item.half{\r\n    width: 30px;\r\n    background-image: url(../assets/half.png);\r\n  }\r\n  #myOrder .star-item.off{\r\n    width: 30px;\r\n    background-image: url(../assets/off.png);\r\n  }\r\n  #myOrder .ztm{\r\n    color:#3091F2;\r\n    position: absolute;\r\n    right:30px;\r\n    top:50%;\r\n  }\r\n  #myOrder img{\r\n    width:80px;\r\n    height: 80px;\r\n    float:left;\r\n  }\r\n  #myOrder a{\r\n      text-decoration: none;\r\n    }\r\n  #myOrder ul{\r\n      list-style-type: none;\r\n    }\r\n  *{\r\n    box-sizing: border-box;\r\n  }\r\n  #myOrder .ddzt{\r\n    width: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n    background: #fff;\r\n    height: 40px;\r\n    display: flex;\r\n  }\r\n  #myOrder .ddzt>li{\r\n    height: 39px;\r\n    width: 30%;\r\n    text-align: center;\r\n    line-height: 43px;\r\n  }\r\n  .active{\r\n    border-bottom: 3px solid #bbb;\r\n  }\r\n  #myOrder .order{\r\n    width: 95%;\r\n    height: 150px;\r\n    border:2px solid #eee;\r\n    background: #fff;\r\n    padding: 10px;\r\n    margin:10px auto;\r\n    border-radius: 5px;\r\n    position: relative;\r\n  }\r\n  #myOrder .lxr{\r\n    float: right;\r\n    margin-right: 10px;\r\n  }\r\n  #myOrder .order>p{\r\n    width: 70%;\r\n    margin: 2px;\r\n    float: right;\r\n    color:#333;\r\n    font-size: 12px;\r\n    font-family: \"微软\";\r\n  }\r\n\r\n  #myOrder .pj,#myOrder .zlyd,#myOrder .qr{\r\n    width: 90px;\r\n    height: 30px;\r\n    border-radius: 5px;\r\n    text-align: center;\r\n    line-height: 30px;\r\n    float: right;\r\n  }\r\n  #myOrder .qr{\r\n    background: #fff;\r\n    margin: 15px 4px 0 0;\r\n    border:1px solid #ccc;\r\n    color:#555;\r\n    font-size: 13px;\r\n  }\r\n  #myOrder .pj{\r\n    color:#fff;\r\n    background: #6EC884;\r\n    margin: 27px 4px 0 0;\r\n    font-size: 13px;\r\n  }\r\n  #myOrder .zlyd{\r\n    color:#fff;\r\n    background: #FF4401;\r\n    margin: 27px 4px 0 0;\r\n    font-size: 13px;\r\n  }\r\n</style>"]}]}