{"remainingRequest":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\src\\views\\MyOrder.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\src\\views\\MyOrder.vue","mtime":1567219578000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\gitbdck\\food1\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import _defineProperty from \"C:\\\\xampp\\\\htdocs\\\\LL\\\\web1904\\\\gitbdck\\\\food1\\\\vue_app_00\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      oid: \"1\",\n      auser: \"\",\n      oname: \"\",\n      gcount: \"\",\n      tmoney: \"\",\n      num: \"\",\n      uid: \"\",\n      list: [],\n      text: \"\",\n      tosid: \"\",\n      l1: \"\",\n      l2: \"\",\n      l3: \"\",\n      l4: \"\",\n      l5: \"\",\n      score: 4,\n      t: \"\",\n      time: 3,\n      bg_dp: \"yc\"\n    };\n  },\n  computed: {\n    //计算属性\n    itemClasses: function itemClasses() {\n      var result = []; // 返回的是一个数组,用来遍历输出星星\n\n      var score = Math.floor(this.score * 2) / 2; // 计算所有星星的数量\n\n      var hasDecimal = score % 1 !== 0; // 非整数星星判断\n\n      var integer = Math.floor(score); // 整数星星判断\n\n      for (var i = 0; i < integer; i++) {\n        // 整数星星使用on\n        result.push(\"on\"); // 一个整数星星就push一个CLS_ON到数组\n      }\n\n      if (hasDecimal) {\n        // 非整数星星使用half\n        result.push(\"half\"); // 类似\n      }\n\n      while (result.length < 5) {\n        // 余下的用无星星补全,使用off\n        result.push(\"off\");\n      }\n\n      return result;\n    }\n  },\n  methods: _defineProperty({\n    pjBtnFun: function pjBtnFun(score, oid) {\n      var _this = this;\n\n      var score = this.score;\n\n      if (score <= 3) {\n        this.$toast(\"感谢您的惠顾!因为有您的支持，我们才有今天，感谢您的每一个评价，小店都会努力让您满意!\");\n\n        if (this.t == \"\") {\n          this.t = setInterval(function () {\n            _this.time = _this.time - 1;\n\n            if (_this.time == 0) {\n              clearInterval(_this.t);\n\n              _this.$router.push(\"/Opention\");\n\n              _this.bg_dp = \"yc\";\n            }\n          }, 1000);\n        }\n\n        var url = \"tjpl\";\n        var oid = this.oid;\n        console.log(oid);\n        var obj = {\n          oid: oid\n        };\n        this.axios.get(url, {\n          params: obj\n        }).then(function (res) {\n          if (res.data.code == 1) {\n            _this.getDpj();\n          } else {\n            _this.$toast(\"评价失败\");\n          }\n        });\n      } else if (score == 4) {\n        this.$toast(\"亲爱的朋友，感谢您一如既往的支持!您的满意是我们的最高追求\");\n        this.bg_dp = \"yc\";\n        var url = \"tjpl\";\n        var oid = this.oid;\n        var obj = {\n          oid: oid\n        };\n        this.axios.get(url, {\n          params: obj\n        }).then(function (res) {\n          if (res.data.code == 1) {\n            _this.getDpj();\n          } else {\n            _this.$toast(\"评价失败\");\n          }\n        });\n      } else {\n        this.$toast(\"欢迎对我们不断的进行口碑传播\");\n        this.bg_dp = \"yc\";\n        var url = \"tjpl\";\n        var oid = this.oid;\n        var obj = {\n          oid: oid\n        };\n        this.axios.get(url, {\n          params: obj\n        }).then(function (res) {\n          if (res.data.code == 1) {\n            _this.getDpj();\n          } else {\n            _this.$toast(\"评价失败\");\n          }\n        });\n      }\n    },\n    stars: function stars(index) {\n      this.score = index + 1;\n    },\n    pjFun: function pjFun(oid, tosid) {\n      if (tosid == 2) {\n        this.bg_dp = \"xs\";\n        this.oid = oid;\n      }\n    },\n    zlydFun: function zlydFun() {\n      this.$router.push(\"/Home\");\n    },\n    qrFun: function qrFun(oid, tosid) {\n      var _this2 = this;\n\n      if (tosid == 1) {\n        this.$messagebox.confirm(\"确认收货？\").then(function (action) {\n          var obj = {\n            oid: oid\n          };\n\n          _this2.axios.get(\"tjqr\", {\n            params: obj\n          }).then(function (res) {\n            if (res.data.code == 1) {\n              _this2.getDsh();\n            } else {\n              _this2.$toast(\"确认失败\");\n            }\n          });\n        }).catch(function (err) {\n          _this2.$toast(\"取消成功\");\n        });\n      }\n    },\n    getAll: function getAll() {\n      this.l1 = \"active\";\n      this.l2 = \"\";\n      this.l3 = \"\";\n      this.l4 = \"\";\n      this.l5 = \"\";\n      this.onload();\n    },\n    getDsh: function getDsh() {\n      var _this3 = this;\n\n      var url = \"Dshorder\";\n      var obj = {\n        uid: this.uid\n      };\n      this.l1 = \"\";\n      this.l2 = \"active\";\n      this.l3 = \"\";\n      this.l4 = \"\";\n      this.l5 = \"\";\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        _this3.num = res.data.num;\n        _this3.list = res.data.obj;\n        console.log(_this3.list);\n      });\n    },\n    getDpj: function getDpj() {\n      var _this4 = this;\n\n      this.l1 = \"\";\n      this.l2 = \"\";\n      this.l3 = \"active\";\n      this.l4 = \"\";\n      this.l5 = \"\";\n      var url = \"Dpjorder\";\n      var obj = {\n        uid: this.uid\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        _this4.num = res.data.num;\n        _this4.list = res.data.obj;\n      });\n    },\n    onload: function onload() {\n      var _this5 = this;\n\n      this.l1 = \"\";\n      this.l2 = \"\";\n      this.l3 = \"active\";\n      this.l4 = \"\";\n      this.l5 = \"\";\n      var url = \"Dpjorder\";\n      var obj = {\n        uid: this.uid\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        _this5.num = res.data.num;\n        _this5.list = res.data.obj;\n      });\n    },\n    getTk: function getTk() {\n      var _this6 = this;\n\n      this.l1 = \"\";\n      this.l2 = \"\";\n      this.l3 = \"\";\n      this.l4 = \"active\";\n      this.l5 = \"\";\n      var url = \"Thorder\";\n      var obj = {\n        uid: this.uid\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        _this6.num = res.data.num;\n        _this6.list = res.data.obj;\n      });\n    },\n    getOver: function getOver() {\n      var _this7 = this;\n\n      this.l1 = \"\";\n      this.l2 = \"\";\n      this.l3 = \"\";\n      this.l4 = \"\";\n      this.l5 = \"active\";\n      var url = \"Over\";\n      var obj = {\n        uid: this.uid\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        _this7.num = res.data.num;\n        _this7.list = res.data.obj;\n      });\n    }\n  }, \"onload\", function onload() {\n    var _this8 = this;\n\n    this.l1 = \"active\";\n    this.l2 = \"\";\n    this.l3 = \"\";\n    this.l4 = \"\";\n    this.l5 = \"\";\n    var url = \"Allorder\";\n    var obj = {\n      uid: this.uid\n    };\n    this.axios.get(url, {\n      params: obj\n    }).then(function (res) {\n      _this8.num = res.data.num;\n      _this8.list = res.data.obj;\n    });\n  }),\n  created: function created() {\n    if (sessionStorage.getItem(\"uid\") == \"null\") {\n      this.$router.push(\"/Login\");\n    } else {\n      this.uid = sessionStorage.getItem(\"uid\");\n    }\n\n    this.onload();\n  },\n  components: {}\n};",{"version":3,"sources":["MyOrder.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"myOrder\">\r\n    <ul class=\"ddzt\">\r\n      <li :class=\"l1\" @click=\"getAll\">全部</li>\r\n      <li :class=\"l2\" @click=\"getDsh\">待收货</li>\r\n      <li :class=\"l3\" @click=\"getDpj\">待评价({{num}})</li>\r\n      <li :class=\"l4\" @click=\"getTk\">退款</li>\r\n      <li :class=\"l5\" @click=\"getOver\">已完成</li>\r\n    </ul>\r\n    <div v-for=\"(item,i) of list\" :key=\"i\">\r\n      <div class=\"order\">\r\n        <img src=\"../../public/images/wel002.jpg\" alt=\"\">\r\n        <p>订单号：2019831{{item.oid}}\r\n          <span class=\"lxr\">收件人:{{item.auser}}</span>\r\n        </p>\r\n        <span class=\"ztm\">{{item.tosid==1?\"待收货\":(item.tosid==2?\"待评价\":(item.tosid==3?\"退货\":\"已完成\"))}}</span>\r\n        <p>商品名称:{{item.oname}}</p>\r\n        <p>数量：{{item.gcount}}</p>\r\n        <p>总价：￥{{item.tmoney}}</p>\r\n        <div class=\"pj\" @click=\"pjFun(item.oid,item.tosid)\">评价</div>\r\n        <div class=\"zlyd\" @click=\"zlydFun\">再来一单</div>\r\n        <div class=\"qr\" @click=\"qrFun(item.oid,item.tosid)\">确认收货</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"bg\" :class=\"bg_dp\">\r\n      <div class=\"evaStar\">\r\n        <ul class=\"star\">\r\n          <li v-for=\"(itemClass,index) in itemClasses\" :class=\"itemClass\" class=\"star-item\" @click=\"stars(index)\" track-by=\"index\"></li><!--性能优化 track-by 数据不改变时不会重新渲染-->\r\n        </ul>\r\n       <button class=\"pjBtn\" @click=\"pjBtnFun\">匿名提交</button>\r\n      </div>\r\n    </div> \r\n  </div>  \r\n</template>\r\n \r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n     oid:\"1\",\r\n     auser:\"\",\r\n     oname:\"\",\r\n     gcount:\"\",\r\n     tmoney:\"\",\r\n     num:\"\",\r\n     uid:\"\",\r\n     list:[],\r\n     text:\"\",\r\n     tosid:\"\",\r\n     l1:\"\",\r\n     l2:\"\",\r\n     l3:\"\",\r\n     l4:\"\",\r\n     l5:\"\",\r\n     score:4,\r\n     t:\"\",\r\n     time:3,\r\n     bg_dp:\"yc\"\r\n    };\r\n  },\r\n  computed:{ //计算属性\r\n    itemClasses(){\r\n    var result = []; // 返回的是一个数组,用来遍历输出星星\r\n    var score = Math.floor(this.score * 2 ) / 2; // 计算所有星星的数量\r\n    var hasDecimal = score % 1 !== 0; // 非整数星星判断\r\n    var integer = Math.floor(score); // 整数星星判断\r\n    for(let i=0;i<integer;i++){ // 整数星星使用on\r\n      result.push(\"on\"); // 一个整数星星就push一个CLS_ON到数组\r\n    }\r\n    if(hasDecimal){ // 非整数星星使用half\r\n      result.push(\"half\"); // 类似\r\n    } \r\n    while(result.length < 5){// 余下的用无星星补全,使用off\r\n      result.push(\"off\");\r\n    }\r\n    return result;\r\n    }\r\n  },\r\n  methods:{\r\n    pjBtnFun(score,oid){\r\n      var score=this.score;\r\n      if(score<=3){\r\n        this.$toast(\"感谢您的惠顾!因为有您的支持，我们才有今天，感谢您的每一个评价，小店都会努力让您满意!\");\r\n        if(this.t==\"\"){\r\n          this.t=setInterval(()=>{\r\n            this.time=this.time-1;\r\n            if(this.time==0){\r\n              clearInterval(this.t);\r\n              this.$router.push(\"/Opention\");\r\n              this.bg_dp=\"yc\";\r\n            }\r\n          },1000);\r\n        }\r\n        var url=\"tjpl\";\r\n        var oid=this.oid\r\n        console.log(oid);\r\n        var obj={oid:oid}\r\n        this.axios.get(url,{params:obj}).then(res=>{\r\n          if(res.data.code==1){\r\n            this.getDpj();\r\n          }else{\r\n            this.$toast(\"评价失败\");\r\n          }\r\n        });\r\n      }else if(score==4){\r\n        this.$toast(\"亲爱的朋友，感谢您一如既往的支持!您的满意是我们的最高追求\")\r\n        this.bg_dp=\"yc\";\r\n        var url=\"tjpl\";\r\n        var oid=this.oid\r\n        var obj={oid:oid}\r\n        this.axios.get(url,{params:obj}).then(res=>{\r\n          if(res.data.code==1){\r\n            this.getDpj();\r\n          }else{\r\n            this.$toast(\"评价失败\");\r\n          }\r\n        });\r\n      }else{\r\n        this.$toast(\"欢迎对我们不断的进行口碑传播\")\r\n        this.bg_dp=\"yc\";\r\n        var url=\"tjpl\";\r\n        var oid=this.oid\r\n        var obj={oid:oid}\r\n        this.axios.get(url,{params:obj}).then(res=>{\r\n          if(res.data.code==1){\r\n            this.getDpj();\r\n          }else{\r\n            this.$toast(\"评价失败\");\r\n          }\r\n        });\r\n      }\r\n    },\r\n    stars:function(index){\r\n      this.score = index + 1\r\n    },\r\n    pjFun(oid,tosid){\r\n      if(tosid==2){\r\n       this.bg_dp=\"xs\";\r\n       this.oid=oid;\r\n      }    \r\n    },\r\n    zlydFun(){\r\n      this.$router.push(\"/Home\");\r\n    },\r\n    qrFun(oid,tosid){\r\n      if(tosid==1){\r\n        this.$messagebox.confirm(\"确认收货？\")\r\n        .then(action=>{\r\n          var obj={oid:oid};\r\n          this.axios.get(\"tjqr\",{params:obj}).then(res=>{\r\n            if(res.data.code==1){\r\n              this.getDsh();\r\n            }else{\r\n              this.$toast(\"确认失败\");\r\n            }\r\n          })\r\n        })\r\n        .catch(err=>{\r\n        this.$toast(\"取消成功\")\r\n        })\r\n      }\r\n    },\r\n  getAll(){\r\n    this.l1=\"active\";\r\n    this.l2=\"\";\r\n    this.l3=\"\";\r\n    this.l4=\"\";\r\n    this.l5=\"\";\r\n    this.onload();\r\n  },\r\n    getDsh(){\r\n      var url=\"Dshorder\";\r\n      var obj={uid:this.uid};\r\n      this.l1=\"\";\r\n      this.l2=\"active\";\r\n      this.l3=\"\";\r\n      this.l4=\"\";\r\n      this.l5=\"\";\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.num=res.data.num;\r\n        this.list=res.data.obj;  \r\n        console.log(this.list);  \r\n      })\r\n    },\r\n    getDpj(){\r\n      this.l1=\"\";\r\n      this.l2=\"\";\r\n      this.l3=\"active\";\r\n      this.l4=\"\";\r\n      this.l5=\"\";\r\n      var url=\"Dpjorder\";\r\n      var obj={uid:this.uid};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.num=res.data.num;\r\n        this.list=res.data.obj; \r\n      })\r\n    },\r\n    onload(){\r\n      this.l1=\"\";\r\n      this.l2=\"\";\r\n      this.l3=\"active\";\r\n      this.l4=\"\";\r\n      this.l5=\"\";\r\n      var url=\"Dpjorder\";\r\n      var obj={uid:this.uid};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.num=res.data.num;\r\n        this.list=res.data.obj;\r\n     })\r\n    },\r\n\r\n    getTk(){\r\n      this.l1=\"\";\r\n      this.l2=\"\";\r\n      this.l3=\"\";\r\n      this.l4=\"active\";\r\n      this.l5=\"\";\r\n      var url=\"Thorder\";\r\n      var obj={uid:this.uid};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.num=res.data.num;\r\n        this.list=res.data.obj;\r\n       \r\n      })\r\n    },\r\n    getOver(){\r\n      this.l1=\"\";\r\n      this.l2=\"\";\r\n      this.l3=\"\";\r\n      this.l4=\"\";\r\n      this.l5=\"active\";\r\n      var url=\"Over\";\r\n      var obj={uid:this.uid};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.num=res.data.num;\r\n        this.list=res.data.obj;\r\n       \r\n    \r\n      })\r\n    },\r\n  \r\n    onload(){\r\n      this.l1=\"active\";\r\n      this.l2=\"\";\r\n      this.l3=\"\";\r\n      this.l4=\"\";\r\n      this.l5=\"\";\r\n      var url=\"Allorder\";\r\n      var obj={uid:this.uid};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.num=res.data.num;\r\n        this.list=res.data.obj;\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    if(sessionStorage.getItem(\"uid\")==\"null\"){ \r\n      this.$router.push(\"/Login\");\r\n    }else{\r\n      this.uid=sessionStorage.getItem(\"uid\");\r\n    }\r\n    this.onload();\r\n  },\r\n  components:{\r\n    \r\n  }\r\n  \r\n\r\n  \r\n};\r\n</script>\r\n\r\n<!-- 样式 -->\r\n<style scoped>\r\n  #myOrder .pjBtn{\r\n    margin: 15px;\r\n    padding: 10px 50px;\r\n    border-radius: 5px;\r\n    background: #2BA246;\r\n    color: #fff;\r\n    border:none;\r\n    outline: none;\r\n  }\r\n  #myOrder .bg{\r\n    width: 100%;\r\n    height: 150%;\r\n    background: rgba(0,0,0,.8);\r\n    position: absolute;\r\n    top:0;\r\n    z-index:999;\r\n  }\r\n  #myOrder .xs{\r\n    display:inline-block;\r\n  }\r\n  #myOrder .yc{\r\n    display:none;\r\n  }\r\n  #myOrder .evaStar{\r\n    background: #fff;\r\n    position: absolute;\r\n    height: 130px;\r\n    width: 90%;\r\n    margin:0;\r\n    top: 20%;\r\n    left: 18px;\r\n    text-align:center;\r\n    border-radius: 10px;\r\n    }\r\n  #myOrder .star{\r\n    height: 40px;\r\n    font-size: 30;\r\n    padding: 0;\r\n    margin: 20px 0 0\r\n\r\n    }\r\n  #myOrder .star-item{\r\n    display: inline-block;\r\n    background-repeat: no-repeat;\r\n    width: .6rem;\r\n    height: 30px;\r\n    margin-left: .27rem;\r\n    background-size: 100%;\r\n  }\r\n  #myOrder .star-item.on{\r\n    width: 30px;\r\n    background-image: url(../assets/on.png);\r\n  }\r\n  #myOrder .star-item.half{\r\n    width: 30px;\r\n    background-image: url(../assets/half.png);\r\n  }\r\n  #myOrder .star-item.off{\r\n    width: 30px;\r\n    background-image: url(../assets/off.png);\r\n  }\r\n  #myOrder .ztm{\r\n    color:#3091F2;\r\n    position: absolute;\r\n    right:30px;\r\n    top:50%;\r\n  }\r\n  #myOrder img{\r\n    width:80px;\r\n    height: 80px;\r\n    float:left;\r\n  }\r\n  #myOrder a{\r\n      text-decoration: none;\r\n    }\r\n  #myOrder ul{\r\n      list-style-type: none;\r\n    }\r\n  *{\r\n    box-sizing: border-box;\r\n  }\r\n  #myOrder .ddzt{\r\n    width: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n    background: #fff;\r\n    height: 40px;\r\n    display: flex;\r\n  }\r\n  #myOrder .ddzt>li{\r\n    height: 39px;\r\n    width: 30%;\r\n    text-align: center;\r\n    line-height: 43px;\r\n  }\r\n  .active{\r\n    border-bottom: 3px solid #bbb;\r\n  }\r\n  #myOrder .order{\r\n    width: 95%;\r\n    height: 150px;\r\n    border:2px solid #eee;\r\n    background: #fff;\r\n    padding: 10px;\r\n    margin:10px auto;\r\n    border-radius: 5px;\r\n    position: relative;\r\n  }\r\n  #myOrder .lxr{\r\n    float: right;\r\n    margin-right: 10px;\r\n  }\r\n  #myOrder .order>p{\r\n    width: 70%;\r\n    margin: 2px;\r\n    float: right;\r\n    color:#333;\r\n    font-size: 12px;\r\n    font-family: \"微软\";\r\n  }\r\n\r\n  #myOrder .pj,#myOrder .zlyd,#myOrder .qr{\r\n    width: 90px;\r\n    height: 30px;\r\n    border-radius: 5px;\r\n    text-align: center;\r\n    line-height: 30px;\r\n    float: right;\r\n  }\r\n  #myOrder .qr{\r\n    background: #fff;\r\n    margin: 15px 4px 0 0;\r\n    border:1px solid #ccc;\r\n    color:#555;\r\n    font-size: 13px;\r\n  }\r\n  #myOrder .pj{\r\n    color:#fff;\r\n    background: #6EC884;\r\n    margin: 27px 4px 0 0;\r\n    font-size: 13px;\r\n  }\r\n  #myOrder .zlyd{\r\n    color:#fff;\r\n    background: #FF4401;\r\n    margin: 27px 4px 0 0;\r\n    font-size: 13px;\r\n  }\r\n</style>"],"sourceRoot":"src\\views"}]}